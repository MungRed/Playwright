# 文字冒险游戏引擎

基于 Python + tkinter 实现的本地文字冒险游戏引擎，支持多种文字演出效果，脚本以 JSON 格式编写，开箱即用。

---

## 功能特性

- **主菜单**：自动扫描 `scripts/` 目录，动态展示所有可用游戏
- **逐段叙事**：按段落推进剧情，按空格键翻页
- **文字演出效果**：支持四种内置效果
  - `fadein` — 文字渐显
  - `typewriter` — 打字机逐字输出
  - `shake` — 文字震动（适合惊险场景）
  - `wave` — 逐字弹入波浪效果
- **进度条**：顶部实时显示当前阅读进度
- **跳过动画**：按空格键可跳过当前动画，直接显示完整文本
- **返回菜单**：按 ESC 键随时返回主菜单

---

## 环境要求

- Python 3.10+
- tkinter（Python 标准库，通常无需额外安装）

---

## 快速开始

```bash
python main.py
```

---

## 脚本格式

游戏脚本为 JSON 文件，放置于 `scripts/` 目录下，引擎启动时自动识别。

### 基本结构

```json
{
  "title": "游戏标题",
  "description": "在主菜单显示的简介",
  "segments": [
    {
      "text": "段落文字内容，支持 \\n 换行",
      "effect": "fadein",
      "speed": 30
    }
  ]
}
```

### 字段说明

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| `title` | string | ✅ | 游戏标题 |
| `description` | string | ❌ | 主菜单简介 |
| `segments` | array | ✅ | 段落列表 |
| `segments[].text` | string | ✅ | 段落文字，`\n` 换行 |
| `segments[].effect` | string | ❌ | 演出效果，默认 `fadein` |
| `segments[].speed` | int | ❌ | 动画速度（毫秒/帧），数值越小越快，默认 `30` |

### 演出效果一览

| effect | 效果 | 推荐 speed | 适用场景 |
|--------|------|-----------|----------|
| `fadein` | 文字渐显 | 20–35 | 通用叙述 |
| `typewriter` | 打字机逐字 | 50–80 | 对话、独白 |
| `shake` | 震动（红色） | 15–20 | 危险、惊吓 |
| `wave` | 波浪弹入 | 18–25 | 奇幻、神秘 |

---

## 操作说明

| 按键 | 功能 |
|------|------|
| `空格键` | 跳过当前动画 / 下一段 |
| `ESC` | 返回主菜单 |

---

## 项目结构

```
Playwright/
├── main.py          # 游戏引擎主程序
├── README.md
└── scripts/         # 游戏脚本目录
    └── 迷失之森.json  # 内置示例脚本
```

---

## 示例脚本

内置示例 **《迷失之森》**（[scripts/迷失之森.json](scripts/迷失之森.json)）：

> 夜幕低垂，你独自踏入一片陌生的神秘森林……

包含 11 段剧情，涵盖全部四种演出效果，可直接运行体验。

---

## 添加新游戏

1. 在 `scripts/` 目录下新建一个 `.json` 文件
2. 按照上方脚本格式编写
3. 重新启动 `main.py`，主菜单中将自动出现新游戏
